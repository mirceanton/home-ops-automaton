{
  "distSpecVersion": "1.1.0",

  "storage": {
    "rootDirectory": "/var/lib/registry",
    "dedupe": true,
    "gc": true,
    "gcDelay": "1h",
    "gcInterval": "24h"
  },

  "http": {
    "address": "0.0.0.0",
    "port": "5000"
  },

  "log": {
    "level": "info"
  },

  "extensions": {
    "ui": { "enable": true },
    "search": {
      "enable": true,
      "cve": { "updateInterval": "24h" }
    },

    "metrics": {
      "enable": true,
      "prometheus": { "path": "/metrics" }
    },

    "sync": {
      "enable": true,
      "credentialsFile": "/etc/zot/credentials.json",

      "registries": [
        {
          "urls": ["https://registry-1.docker.io"],
          "onDemand": true,
          "tlsVerify": true,
          "maxRetries": 3,
          "retryDelay": "5m",
          "content": [
            {
              "prefix": "library/**",
              "destination": "/docker.io/library"
            },
            {
              "prefix": "**",
              "destination": "/docker.io"
            }
          ]
        },
        {
          "urls": ["https://ghcr.io"],
          "onDemand": true,
          "tlsVerify": true,
          "maxRetries": 3,
          "retryDelay": "5m",
          "content": [
            {
              "prefix": "**",
              "destination": "/ghcr.io"
            }
          ]
        },
        {
          "urls": ["https://gcr.io"],
          "onDemand": true,
          "tlsVerify": true,
          "maxRetries": 3,
          "retryDelay": "5m",
          "content": [
            {
              "prefix": "**",
              "destination": "/gcr.io"
            }
          ]
        },
        {
          "urls": ["https://quay.io"],
          "onDemand": true,
          "tlsVerify": true,
          "maxRetries": 3,
          "retryDelay": "5m",
          "content": [
            {
              "prefix": "**",
              "destination": "/quay.io"
            }
          ]
        },
        {
          "urls": ["https://registry.k8s.io"],
          "onDemand": true,
          "tlsVerify": true,
          "maxRetries": 3,
          "retryDelay": "5m",
          "content": [
            {
              "prefix": "**",
              "destination": "/registry.k8s.io"
            }
          ]
        }
      ]
    }
  }
}
